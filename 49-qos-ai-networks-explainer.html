<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>49. QoS for AI Networks: Prioritizing Critical Traffic</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <style>
* { margin: 0; padding: 0; box-sizing: border-box; }
:root {
    --primary-color: #C2185B;
    --secondary-color: #E91E63;
    --accent-color: #F06292;
    --bg-color: #FCE4EC;
    --card-bg: #FFFFFF;
    --text-color: #1A1A1A;
    --border-color: #F8BBD0;
    --shadow: 0 2px 8px rgba(194, 24, 91, 0.1);
}
body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
    background: var(--bg-color);
    color: var(--text-color);
    line-height: 1.6;
}
header {
    text-align: center;
    padding: 50px 40px;
    background: linear-gradient(135deg, #C2185B, #E91E63);
    color: white;
}
header h1 {
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 12px;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
}
.subtitle {
    font-size: 1.2rem;
    opacity: 0.95;
    font-weight: 300;
}
.author-credit {
    font-size: 1rem;
    font-weight: 600;
    margin-top: 15px;
    padding: 8px 20px;
    background: rgba(255, 255, 255, 0.25);
    border-radius: 6px;
    display: inline-block;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
    border: 2px solid rgba(255, 255, 255, 0.4);
}

.sidebar-wrapper {
    display: flex;
    min-height: calc(100vh - 200px);
}
.nav-menu {
    width: 280px;
    min-width: 280px;
    background: #80DEEA;
    border-right: 2px solid var(--border-color);
    padding: 20px 0;
    position: sticky;
    top: 0;
    height: calc(100vh - 200px);
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    gap: 4px;
}
.nav-link {
    color: var(--text-color);
    text-decoration: none;
    padding: 12px 20px;
    margin: 0 10px;
    border-radius: 6px;
    transition: all 0.2s ease;
    font-weight: 500;
    display: block;
}
.nav-link:hover, .nav-link.active {
    background: var(--primary-color);
    color: white;
}
.main-content-wrapper {
    flex: 1;
    width: calc(100% - 280px);
    min-width: 0;
}

.section {
    padding: 40px;
    min-height: calc(100vh - 200px);
    border-bottom: 1px solid var(--border-color);
    max-width: 100%;
}
.section h2 {
    font-size: 2.2rem;
    margin-bottom: 20px;
    color: var(--primary-color);
    border-bottom: 3px solid var(--primary-color);
    padding-bottom: 10px;
}
.concept-card {
    background: var(--card-bg);
    padding: 25px;
    border-radius: 12px;
    border: 2px solid var(--border-color);
    margin: 20px 0;
    box-shadow: var(--shadow);
}
.concept-card h3 {
    color: var(--primary-color);
    margin-bottom: 15px;
    font-size: 1.4rem;
}
.comparison-table {
    width: 100%;
    border-collapse: collapse;
    margin: 25px 0;
    background: white;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: var(--shadow);
}
.comparison-table th,
.comparison-table td {
    padding: 15px 20px;
    text-align: left;
    border-bottom: 1px solid var(--border-color);
}
.comparison-table th {
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    color: white;
    font-weight: 600;
}
.comparison-table tr:hover {
    background: var(--bg-color);
}
.mermaid { margin: 30px 0; text-align: center; }
.example-box {
    background: linear-gradient(135deg, #FCE4EC, #F8BBD0);
    border-left: 5px solid var(--primary-color);
    padding: 20px 25px;
    margin: 20px 0;
    border-radius: 8px;
}
.example-box strong {
    color: var(--primary-color);
    display: block;
    margin-bottom: 10px;
    font-size: 1.1rem;
}
footer {
    text-align: center;
    padding: 40px;
    background: #F8BBD0;
    border-top: 2px solid var(--border-color);
    color: var(--text-color);
}
@media (max-width: 768px) {
    header h1 { font-size: 2rem; }
    
    .nav-menu {
        width: 100%;
        min-width: 100%;
        height: auto;
        position: relative;
        flex-direction: row;
        flex-wrap: wrap;
        padding: 10px;
        border-right: none;
        border-bottom: 2px solid var(--border-color);
    }
    .nav-link {
        padding: 8px 15px;
        margin: 4px;
    }
    
    .section { padding: 25px 20px; }
}
    .section {
    padding: 40px;
    min-height: calc(100vh - 200px);
    border-bottom: 1px solid var(--border-color);
    max-width: 100%;
}
    </style>
</head>
<body>
    <header>
        <h1>49. QoS for AI Networks</h1>
        <p class="subtitle">Prioritizing Critical Traffic for Optimal Performance</p>
        <p class="author-credit">Explained by Naman Adep</p>
    </header>

    <div class="sidebar-wrapper">
    <nav class="nav-menu">
        <a href="#overview" class="nav-link active">Overview</a>
        <a href="#traffic-prioritization" class="nav-link">Traffic Prioritization</a>
        <a href="#bandwidth-allocation" class="nav-link">Bandwidth Allocation</a>
        <a href="#performance-isolation" class="nav-link">Performance Isolation</a>
        <a href="#implementation" class="nav-link">Implementation</a>
    </nav>
    <div class="main-content-wrapper">
        <main>
        <section id="overview" class="section">
            <h2>QoS for AI Networks Overview</h2>
            <p>
                Quality of Service (QoS) for AI networks enables prioritization and resource allocation to ensure 
                critical AI workloads receive the network resources they need. In multi-tenant environments or when 
                running multiple workloads simultaneously, QoS ensures that training jobs, inference services, and 
                other critical applications get appropriate network bandwidth and priority, preventing one workload 
                from impacting others. QoS implementation includes traffic classification, prioritization, bandwidth 
                allocation, and performance isolation mechanisms.
            </p>

            <div class="mermaid">
                graph TD
                    A[Network Traffic] --> B[QoS Classification]
                    B --> C[High Priority<br/>Training Traffic]
                    B --> D[Medium Priority<br/>Inference Traffic]
                    B --> E[Low Priority<br/>Management Traffic]
                    
                    C --> F[Guaranteed Bandwidth]
                    D --> G[Shared Bandwidth]
                    E --> H[Best Effort]
                    
                    style A fill:#C2185B
                    style C fill:#E91E63
                    style F fill:#F06292
            </div>

            <div class="example-box">
                <strong>Prioritizing Critical Traffic:</strong>
                QoS for AI networks works like a priority lane system on highways. Critical training traffic gets 
                dedicated lanes (guaranteed bandwidth), inference traffic shares lanes with other traffic (shared 
                bandwidth), and management traffic uses regular lanes (best effort). This ensures that time-sensitive 
                training jobs aren't delayed by less critical traffic, maintaining optimal performance for AI workloads.
            </div>

            <div class="mermaid">
                mindmap
                  root((QoS for AI Networks))
                    Traffic Prioritization
                      High Priority
                        Training Traffic
                      Medium Priority
                        Inference Traffic
                      Low Priority
                        Management Traffic
                    Bandwidth Allocation
                      Guaranteed Bandwidth
                      Shared Bandwidth
                      Best Effort
                    Benefits
                      Performance Isolation
                      Priority Handling
                      Optimal Performance
            </div>
        </section>

        <section id="traffic-prioritization" class="section">
            <h2>Traffic Prioritization</h2>
            <p>
                Traffic prioritization classifies network traffic into different priority levels based on workload 
                type, application requirements, and business priorities. Higher priority traffic receives preferential 
                treatment in terms of bandwidth allocation and forwarding decisions.
            </p>

            <div class="mermaid">
                flowchart TD
                    A[Network Traffic] --> B[QoS Classification]
                    B --> C[Critical Priority<br/>Training Jobs]
                    B --> D[High Priority<br/>Inference]
                    B --> E[Medium Priority<br/>Development]
                    B --> F[Low Priority<br/>Management]
                    B --> G[Best Effort<br/>Non-Critical]
                    
                    C --> H[Guaranteed Bandwidth<br/>Priority Queue]
                    D --> I[Shared Bandwidth<br/>High Queue]
                    E --> J[Shared Bandwidth<br/>Medium Queue]
                    F --> K[Best Effort<br/>Low Queue]
                    G --> K
                    
                    style A fill:#C2185B
                    style H fill:#E91E63
            </div>

            <div class="concept-card">
                <h3>Priority Levels</h3>
                <ul style="margin-top: 15px; padding-left: 20px; line-height: 2;">
                    <li><strong>Critical Priority:</strong> Production training jobs, time-sensitive workloads</li>
                    <li><strong>High Priority:</strong> Inference services, interactive workloads</li>
                    <li><strong>Medium Priority:</strong> Development/testing, batch jobs</li>
                    <li><strong>Low Priority:</strong> Management traffic, backups</li>
                    <li><strong>Best Effort:</strong> Non-critical traffic</li>
                </ul>
            </div>

            <div class="concept-card">
                <h3>Traffic Classification</h3>
                <ul style="margin-top: 15px; padding-left: 20px; line-height: 2;">
                    <li><strong>Port-Based:</strong> Classify based on source/destination ports</li>
                    <li><strong>IP-Based:</strong> Classify based on IP addresses/subnets</li>
                    <li><strong>Application-Based:</strong> Classify based on application type</li>
                    <li><strong>DSCP Marking:</strong> Use Differentiated Services Code Point</li>
                    <li><strong>VLAN-Based:</strong> Classify based on VLAN tags</li>
                </ul>
            </div>

            <div class="concept-card">
                <h3>Priority Enforcement</h3>
                <ul style="margin-top: 15px; padding-left: 20px; line-height: 2;">
                    <li><strong>Queue Scheduling:</strong> Priority queues for different traffic classes</li>
                    <li><strong>Weighted Fair Queuing:</strong> Weighted scheduling based on priority</li>
                    <li><strong>Strict Priority:</strong> Higher priority always served first</li>
                    <li><strong>Bandwidth Guarantees:</strong> Minimum bandwidth guarantees per priority</li>
                </ul>
            </div>
        </section>

        <section id="bandwidth-allocation" class="section">
            <h2>Bandwidth Allocation</h2>
            <p>
                Bandwidth allocation ensures that different traffic classes receive appropriate network bandwidth. 
                This can include guaranteed minimum bandwidth, maximum bandwidth limits, and shared bandwidth pools.
            </p>

            <div class="mermaid">
                graph LR
                    A[Total Bandwidth<br/>200 Gb/s] --> B[Guaranteed<br/>Training: 100 Gb/s]
                    A --> C[Shared Pool<br/>Inference: 50 Gb/s]
                    A --> D[Best Effort<br/>Management: 50 Gb/s]
                    
                    style A fill:#C2185B
                    style B fill:#E91E63
                    style C fill:#F06292
                    style D fill:#F8BBD0
            </div>

            <div class="concept-card">
                <h3>Bandwidth Allocation Models</h3>
                <ul style="margin-top: 15px; padding-left: 20px; line-height: 2;">
                    <li><strong>Guaranteed Bandwidth:</strong> Minimum bandwidth guaranteed to traffic class</li>
                    <li><strong>Maximum Bandwidth:</strong> Maximum bandwidth limit per traffic class</li>
                    <li><strong>Shared Bandwidth:</strong> Bandwidth shared among multiple classes</li>
                    <li><strong>Burst Allowance:</strong> Temporary bandwidth above guarantee</li>
                </ul>
            </div>

            <div class="concept-card">
                <h3>Allocation Strategies</h3>
                <ul style="margin-top: 15px; padding-left: 20px; line-height: 2;">
                    <li><strong>Fixed Allocation:</strong> Fixed bandwidth per class</li>
                    <li><strong>Dynamic Allocation:</strong> Bandwidth allocated based on demand</li>
                    <li><strong>Proportional Allocation:</strong> Bandwidth allocated proportionally</li>
                    <li><strong>Hierarchical Allocation:</strong> Multi-level bandwidth allocation</li>
                </ul>
            </div>

            <div class="concept-card">
                <h3>Example Allocation</h3>
                <p>Typical bandwidth allocation for AI network:</p>
                <ul style="margin-top: 15px; padding-left: 20px; line-height: 2;">
                    <li><strong>Training Traffic:</strong> 60% guaranteed bandwidth</li>
                    <li><strong>Inference Traffic:</strong> 25% guaranteed bandwidth</li>
                    <li><strong>Management Traffic:</strong> 10% guaranteed bandwidth</li>
                    <li><strong>Best Effort:</strong> 5% or remaining bandwidth</li>
                </ul>
            </div>
        </section>

        <section id="performance-isolation" class="section">
            <h2>Performance Isolation</h2>
            <p>
                Performance isolation ensures that different workloads or tenants don't interfere with each other's 
                performance. This is critical in multi-tenant environments where multiple users or applications share 
                the same network infrastructure.
            </p>

            <div class="concept-card">
                <h3>Isolation Mechanisms</h3>
                <ul style="margin-top: 15px; padding-left: 20px; line-height: 2;">
                    <li><strong>Traffic Isolation:</strong> Separate queues per tenant/workload</li>
                    <li><strong>Bandwidth Isolation:</strong> Guaranteed bandwidth per tenant</li>
                    <li><strong>Priority Isolation:</strong> Separate priority levels</li>
                    <li><strong>Path Isolation:</strong> Separate network paths when possible</li>
                </ul>
            </div>

            <div class="concept-card">
                <h3>Multi-Tenant Isolation</h3>
                <ul style="margin-top: 15px; padding-left: 20px; line-height: 2;">
                    <li><strong>Tenant Separation:</strong> Isolate traffic per tenant</li>
                    <li><strong>Resource Guarantees:</strong> Guarantee resources per tenant</li>
                    <li><strong>Fair Sharing:</strong> Fair sharing of shared resources</li>
                    <li><strong>No Interference:</strong> Prevent tenant interference</li>
                </ul>
            </div>

            <div class="concept-card">
                <h3>Workload Isolation</h3>
                <ul style="margin-top: 15px; padding-left: 20px; line-height: 2;">
                    <li><strong>Training Isolation:</strong> Isolate training workloads</li>
                    <li><strong>Inference Isolation:</strong> Isolate inference workloads</li>
                    <li><strong>Development Isolation:</strong> Isolate development workloads</li>
                    <li><strong>Performance Guarantees:</strong> Guarantee performance per workload</li>
                </ul>
            </div>

            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Isolation Level</th>
                        <th>Mechanism</th>
                        <th>Use Case</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Complete Isolation</strong></td>
                        <td>Separate physical networks</td>
                        <td>Critical production workloads</td>
                    </tr>
                    <tr>
                        <td><strong>Logical Isolation</strong></td>
                        <td>VLANs, separate queues</td>
                        <td>Multi-tenant environments</td>
                    </tr>
                    <tr>
                        <td><strong>Bandwidth Isolation</strong></td>
                        <td>Guaranteed bandwidth</td>
                        <td>Performance-critical workloads</td>
                    </tr>
                    <tr>
                        <td><strong>Priority Isolation</strong></td>
                        <td>Priority-based scheduling</td>
                        <td>Mixed workload environments</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section id="implementation" class="section">
            <h2>QoS Implementation</h2>
            <p>
                Implementing QoS for AI networks requires configuration of switches, network adapters, and potentially 
                application-level settings. Proper implementation ensures optimal performance for AI workloads.
            </p>

            <div class="concept-card">
                <h3>Switch Configuration</h3>
                <ul style="margin-top: 15px; padding-left: 20px; line-height: 2;">
                    <li><strong>Queue Configuration:</strong> Configure priority queues</li>
                    <li><strong>Bandwidth Limits:</strong> Set bandwidth limits per queue</li>
                    <li><strong>Scheduling Algorithm:</strong> Configure scheduling (WFQ, SP, etc.)</li>
                    <li><strong>Traffic Classification:</strong> Configure classification rules</li>
                </ul>
            </div>

            <div class="concept-card">
                <h3>Network Adapter Configuration</h3>
                <ul style="margin-top: 15px; padding-left: 20px; line-height: 2;">
                    <li><strong>Priority Marking:</strong> Mark packets with priority</li>
                    <li><strong>Rate Limiting:</strong> Configure rate limits per priority</li>
                    <li><strong>Queue Management:</strong> Configure adapter queues</li>
                    <li><strong>Hardware Acceleration:</strong> Use hardware QoS features</li>
                </ul>
            </div>

            <div class="concept-card">
                <h3>Application Configuration</h3>
                <ul style="margin-top: 15px; padding-left: 20px; line-height: 2;">
                    <li><strong>Socket Options:</strong> Set socket priority</li>
                    <li><strong>NCCL Configuration:</strong> Configure NCCL QoS settings</li>
                    <li><strong>Traffic Marking:</strong> Mark application traffic</li>
                    <li><strong>Monitoring:</strong> Monitor QoS effectiveness</li>
                </ul>
            </div>

            <div class="concept-card">
                <h3>Best Practices</h3>
                <ul style="margin-top: 15px; padding-left: 20px; line-height: 2;">
                    <li><strong>Plan Allocation:</strong> Plan bandwidth allocation based on workload needs</li>
                    <li><strong>Monitor Performance:</strong> Monitor QoS effectiveness</li>
                    <li><strong>Adjust as Needed:</strong> Adjust allocation based on actual usage</li>
                    <li><strong>Document Policies:</strong> Document QoS policies and rationale</li>
                    <li><strong>Test Scenarios:</strong> Test QoS under various load conditions</li>
                </ul>
            </div>

            <div class="example-box">
                <strong>Production Recommendation:</strong>
                For production AI networks, implement QoS with guaranteed bandwidth for training workloads (60-70%), 
                shared bandwidth for inference (20-30%), and best-effort for management (10%). Use priority-based 
                scheduling to ensure training traffic always gets served first. Monitor QoS effectiveness and adjust 
                allocations based on actual workload patterns and performance requirements.
            </div>
        </section>
            </main>

            </div>
</div>

    <footer>
        <p>QoS for AI Networks Guide | Prioritizing Critical Traffic</p>
    </footer>

    <script>
        mermaid.initialize({ startOnLoad: true, theme: 'default' });
        
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                const targetSection = document.querySelector(targetId);
                if (targetSection) {
                    targetSection.scrollIntoView({ behavior: 'smooth' }
);
                    document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
                    this.classList.add('active');
                }

            });
        });

        const sections = document.querySelectorAll('.section');
        const navLinks = document.querySelectorAll('.nav-link');
        
        window.addEventListener('scroll', () => {
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                if (pageYOffset >= sectionTop - 200) {
                    current = section.getAttribute('id');
                }

            });
            
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === `#${current}`) {
                    link.classList.add('active');
                }
            });
        });
    </script>
</body>
</html>
