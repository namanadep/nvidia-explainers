<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>92. Docker Workflow: From Dockerfile to Deployment</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <style>
* { margin: 0; padding: 0; box-sizing: border-box; }
:root {
    --primary-color: #5D4037;
    --secondary-color: #6D4C41;
    --accent-color: #8D6E63;
    --bg-color: #EFEBE9;
    --card-bg: #FFFFFF;
    --text-color: #1A1A1A;
    --border-color: #BCAAA4;
    --shadow: 0 2px 8px rgba(93, 64, 55, 0.1);
}
body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
    background: var(--bg-color);
    color: var(--text-color);
    line-height: 1.6;
}
header {
    text-align: center;
    padding: 50px 40px;
    background: linear-gradient(135deg, #5D4037, #6D4C41);
    color: white;
}
header h1 {
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 12px;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
}
.subtitle {
    font-size: 1.2rem;
    opacity: 0.95;
    font-weight: 300;
}
.author-credit {
    font-size: 1rem;
    font-weight: 600;
    margin-top: 15px;
    padding: 8px 20px;
    background: rgba(255, 255, 255, 0.25);
    border-radius: 6px;
    display: inline-block;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
    border: 2px solid rgba(255, 255, 255, 0.4);
}

.sidebar-wrapper {
    display: flex;
    min-height: calc(100vh - 200px);
}
.nav-menu {
    width: 280px;
    min-width: 280px;
    background: #80DEEA;
    border-right: 2px solid var(--border-color);
    padding: 20px 0;
    position: sticky;
    top: 0;
    height: calc(100vh - 200px);
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    gap: 4px;
}
.nav-link {
    color: var(--text-color);
    text-decoration: none;
    padding: 12px 20px;
    margin: 0 10px;
    border-radius: 6px;
    transition: all 0.2s ease;
    font-weight: 500;
    display: block;
}
.nav-link:hover, .nav-link.active {
    background: var(--primary-color);
    color: white;
}
.main-content-wrapper {
    flex: 1;
    width: calc(100% - 280px);
    min-width: 0;
}

.section {
    padding: 40px;
    min-height: calc(100vh - 200px);
    border-bottom: 1px solid var(--border-color);
    max-width: 100%;
}
.section h2 {
    font-size: 2.2rem;
    margin-bottom: 20px;
    color: var(--primary-color);
    border-bottom: 3px solid var(--primary-color);
    padding-bottom: 10px;
}
.concept-card {
    background: var(--card-bg);
    padding: 25px;
    border-radius: 12px;
    border: 2px solid var(--border-color);
    margin: 20px 0;
    box-shadow: var(--shadow);
}
.concept-card h3 {
    color: var(--primary-color);
    margin-bottom: 15px;
    font-size: 1.4rem;
}
.command-box {
    background: #263238;
    color: #BCAAA4;
    padding: 20px;
    border-radius: 8px;
    margin: 15px 0;
    font-family: 'Courier New', monospace;
    overflow-x: auto;
}
.mermaid { margin: 30px 0; text-align: center; }
.example-box {
    background: linear-gradient(135deg, #EFEBE9, #D7CCC8);
    border-left: 5px solid var(--primary-color);
    padding: 20px 25px;
    margin: 20px 0;
    border-radius: 8px;
}
.example-box strong {
    color: var(--primary-color);
    display: block;
    margin-bottom: 10px;
    font-size: 1.1rem;
}
footer {
    text-align: center;
    padding: 40px;
    background: #BCAAA4;
    border-top: 2px solid var(--border-color);
    color: var(--text-color);
}
@media (max-width: 768px) {
    header h1 { font-size: 2rem; }
    
    .nav-menu {
        width: 100%;
        min-width: 100%;
        height: auto;
        position: relative;
        flex-direction: row;
        flex-wrap: wrap;
        padding: 10px;
        border-right: none;
        border-bottom: 2px solid var(--border-color);
    }
    .nav-link {
        padding: 8px 15px;
        margin: 4px;
    }
    
    .section { padding: 25px 20px; }
}
    .section {
    padding: 40px;
    min-height: calc(100vh - 200px);
    border-bottom: 1px solid var(--border-color);
    max-width: 100%;
}
    </style>
</head>
<body>
    <header>
        <h1>92. Docker Workflow</h1>
        <p class="subtitle">From Dockerfile to Deployment</p>
        <p class="author-credit">Explained by Naman Adep</p>
    </header>

    <div class="sidebar-wrapper">
    <nav class="nav-menu">
        <a href="#overview" class="nav-link active">Overview</a>
        <a href="#dockerfile" class="nav-link">Dockerfile</a>
        <a href="#image-building" class="nav-link">Image Building</a>
        <a href="#lifecycle" class="nav-link">Container Lifecycle</a>
        <a href="#best-practices" class="nav-link">Best Practices</a>
    </nav>
    <div class="main-content-wrapper">
        <main>
        <section id="overview" class="section">
            <h2>Docker Workflow Overview</h2>
            <p>
                Docker workflow encompasses the complete process of creating, building, and deploying containerized 
                applications, from writing Dockerfiles to running containers in production. The workflow includes 
                Dockerfile creation, image building, container lifecycle management, and deployment strategies. Understanding 
                Docker workflow enables efficient containerization of AI applications, ensuring reproducibility, portability, 
                and scalability. Effective Docker workflows streamline development, testing, and deployment processes, 
                making containerization a cornerstone of modern AI infrastructure.
            </p>

            <div class="mermaid">
                graph TD
                    A[Dockerfile] --> B[Build Image]
                    B --> C[Run Container]
                    C --> D[Deploy]
                    
                    style A fill:#5D4037
                    style B fill:#6D4C41
                    style D fill:#8D6E63
            </div>

            <div class="example-box">
                <strong>Container Workflow:</strong>
                Docker workflow enables containerized application development and deployment. You create a Dockerfile 
                (build specification), build container images, run containers, and deploy them. Docker ensures consistent 
                application environments across development, testing, and production by packaging applications with their 
                dependencies into portable containers.
            </div>

            <div class="mermaid">
                mindmap
                  root((Docker Workflow))
                    Workflow Steps
                      Dockerfile Creation
                      Image Building
                      Container Running
                      Deployment
                    Benefits
                      Consistency
                      Portability
                      Reproducibility
                      Scalability
            </div>
        </section>

        <section id="dockerfile" class="section">
            <h2>Dockerfile Creation</h2>
            <p>
                Dockerfiles define how container images are built, specifying base images, dependencies, and application 
                setup. Well-written Dockerfiles enable efficient, reproducible image builds.
            </p>

            <div class="concept-card">
                <h3>Dockerfile Structure</h3>
                <div class="command-box">
# Base image<br>
FROM nvidia/cuda:11.8.0-runtime-ubuntu22.04<br>
<br>
# Set working directory<br>
WORKDIR /app<br>
<br>
# Install dependencies<br>
RUN apt-get update && apt-get install -y python3 python3-pip<br>
<br>
# Copy application<br>
COPY . /app<br>
<br>
# Install Python packages<br>
RUN pip3 install -r requirements.txt<br>
<br>
# Set entrypoint<br>
ENTRYPOINT ["python3", "app.py"]
                </div>
            </div>

            <div class="concept-card">
                <h3>Dockerfile Best Practices</h3>
                <ul style="margin-top: 15px; padding-left: 20px; line-height: 2;">
                    <li><strong>Layer Caching:</strong> Order instructions for caching</li>
                    <li><strong>Minimal Base:</strong> Use minimal base images</li>
                    <li><strong>Multi-Stage:</strong> Use multi-stage builds</li>
                    <li><strong>Security:</strong> Follow security best practices</li>
                    <li><strong>Documentation:</strong> Document Dockerfile</li>
                </ul>
            </div>

            <div class="concept-card">
                <h3>Optimization Techniques</h3>
                <ul style="margin-top: 15px; padding-left: 20px; line-height: 2;">
                    <li><strong>Layer Ordering:</strong> Order layers by change frequency</li>
                    <li><strong>Combined RUN:</strong> Combine RUN commands</li>
                    <li><strong>.dockerignore:</strong> Use .dockerignore</li>
                    <li><strong>Build Cache:</strong> Leverage build cache</li>
                </ul>
            </div>
        </section>

        <section id="image-building" class="section">
            <h2>Image Building</h2>
            <p>
                Building Docker images involves compiling Dockerfiles into runnable container images, optimizing build 
                processes for speed and efficiency.
            </p>

            <div class="mermaid">
                graph LR
                    A[Dockerfile] --> B[docker build]
                    B --> C[Image Layers]
                    C --> D[Final Image]
                    
                    style A fill:#5D4037
                    style B fill:#6D4C41
                    style D fill:#8D6E63
            </div>

            <div class="concept-card">
                <h3>Build Process</h3>
                <div class="command-box">
# Build image<br>
docker build -t myapp:latest .<br>
<br>
# Build with tags<br>
docker build -t myapp:v1.0 -t myapp:latest .<br>
<br>
# Build with build args<br>
docker build --build-arg CUDA_VERSION=11.8 -t myapp .<br>
<br>
# Build from specific Dockerfile<br>
docker build -f Dockerfile.prod -t myapp:prod .
                </div>
            </div>

            <div class="concept-card">
                <h3>Build Optimization</h3>
                <ul style="margin-top: 15px; padding-left: 20px; line-height: 2;">
                    <li><strong>Cache Usage:</strong> Leverage build cache</li>
                    <li><strong>Parallel Builds:</strong> Parallel layer building</li>
                    <li><strong>Build Context:</strong> Minimize build context</li>
                    <li><strong>Multi-Stage:</strong> Use multi-stage builds</li>
                </ul>
            </div>

            <div class="concept-card">
                <h3>Image Management</h3>
                <ul style="margin-top: 15px; padding-left: 20px; line-height: 2;">
                    <li><strong>Tagging:</strong> Tag images appropriately</li>
                    <li><strong>Versioning:</strong> Version images</li>
                    <li><strong>Registry:</strong> Push to registries</li>
                    <li><strong>Cleanup:</strong> Clean up unused images</li>
                </ul>
            </div>
        </section>

        <section id="lifecycle" class="section">
            <h2>Container Lifecycle</h2>
            <p>
                Container lifecycle management involves creating, running, stopping, and managing containers throughout 
                their existence.
            </p>

            <div class="concept-card">
                <h3>Lifecycle Stages</h3>
                <ol style="margin-top: 15px; padding-left: 20px; line-height: 2;">
                    <li><strong>Create:</strong> Create container from image</li>
                    <li><strong>Start:</strong> Start container</li>
                    <li><strong>Run:</strong> Container running</li>
                    <li><strong>Stop:</strong> Stop container</li>
                    <li><strong>Remove:</strong> Remove container</li>
                </ol>
            </div>

            <div class="concept-card">
                <h3>Container Operations</h3>
                <div class="command-box">
# Run container<br>
docker run -d --name myapp myapp:latest<br>
<br>
# Run with GPU<br>
docker run --gpus all myapp:latest<br>
<br>
# Run with volumes<br>
docker run -v /data:/app/data myapp:latest<br>
<br>
# Stop container<br>
docker stop myapp<br>
<br>
# Remove container<br>
docker rm myapp
                </div>
            </div>

            <div class="concept-card">
                <h3>Container Management</h3>
                <ul style="margin-top: 15px; padding-left: 20px; line-height: 2;">
                    <li><strong>Monitoring:</strong> Monitor container status</li>
                    <li><strong>Logs:</strong> View container logs</li>
                    <li><strong>Exec:</strong> Execute commands in container</li>
                    <li><strong>Inspect:</strong> Inspect container configuration</li>
                </ul>
            </div>
        </section>

        <section id="best-practices" class="section">
            <h2>Best Practices and Optimization</h2>
            <p>
                Following Docker best practices ensures efficient, secure, and maintainable containerized applications, 
                optimizing build times, image sizes, and runtime performance.
            </p>

            <div class="concept-card">
                <h3>Dockerfile Best Practices</h3>
                <ul style="margin-top: 15px; padding-left: 20px; line-height: 2;">
                    <li><strong>Minimal Images:</strong> Use minimal base images</li>
                    <li><strong>Layer Caching:</strong> Optimize for layer caching</li>
                    <li><strong>Security:</strong> Follow security best practices</li>
                    <li><strong>Documentation:</strong> Document Dockerfiles</li>
                    <li><strong>Multi-Stage:</strong> Use multi-stage builds</li>
                </ul>
            </div>

            <div class="concept-card">
                <h3>Build Optimization</h3>
                <ul style="margin-top: 15px; padding-left: 20px; line-height: 2;">
                    <li><strong>Build Cache:</strong> Leverage build cache</li>
                    <li><strong>Build Context:</strong> Minimize build context</li>
                    <li><strong>Parallel Builds:</strong> Use parallel builds</li>
                    <li><strong>Build Args:</strong> Use build arguments</li>
                </ul>
            </div>

            <div class="concept-card">
                <h3>Runtime Optimization</h3>
                <ul style="margin-top: 15px; padding-left: 20px; line-height: 2;">
                    <li><strong>Resource Limits:</strong> Set resource limits</li>
                    <li><strong>Health Checks:</strong> Configure health checks</li>
                    <li><strong>Restart Policies:</strong> Set restart policies</li>
                    <li><strong>Networking:</strong> Optimize networking</li>
                </ul>
            </div>

            <div class="example-box">
                <strong>Docker Workflow:</strong>
                Create efficient Docker workflows by writing optimized Dockerfiles, leveraging build cache, using 
                multi-stage builds, and following best practices. Build images efficiently, manage container lifecycle 
                effectively, and deploy containers reliably. Docker workflow enables reproducible, portable, and 
                scalable application deployment.
            </div>
        </section>
            </main>

            </div>
</div>

    <footer>
        <p>Docker Workflow Guide | From Dockerfile to Deployment</p>
    </footer>

    <script>
        mermaid.initialize({ startOnLoad: true, theme: 'default' });
        
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                const targetSection = document.querySelector(targetId);
                if (targetSection) {
                    targetSection.scrollIntoView({ behavior: 'smooth' }
);
                    document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
                    this.classList.add('active');
                }

            });
        });

        const sections = document.querySelectorAll('.section');
        const navLinks = document.querySelectorAll('.nav-link');
        
        window.addEventListener('scroll', () => {
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                if (pageYOffset >= sectionTop - 200) {
                    current = section.getAttribute('id');
                }

            });
            
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === `#${current}`) {
                    link.classList.add('active');
                }
            });
        });
    </script>
</body>
</html>
