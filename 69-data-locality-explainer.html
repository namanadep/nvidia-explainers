<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>69. Data Locality: Keeping Data Close to Compute</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <style>
* { margin: 0; padding: 0; box-sizing: border-box; }
:root {
    --primary-color: #1976D2;
    --secondary-color: #2196F3;
    --accent-color: #64B5F6;
    --bg-color: #E3F2FD;
    --card-bg: #FFFFFF;
    --text-color: #1A1A1A;
    --border-color: #90CAF9;
    --shadow: 0 2px 8px rgba(25, 118, 210, 0.1);
}
body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
    background: var(--bg-color);
    color: var(--text-color);
    line-height: 1.6;
}
header {
    text-align: center;
    padding: 50px 40px;
    background: linear-gradient(135deg, #1976D2, #2196F3);
    color: white;
}
header h1 {
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 12px;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
}
.subtitle {
    font-size: 1.2rem;
    opacity: 0.95;
    font-weight: 300;
}
.author-credit {
    font-size: 1rem;
    font-weight: 600;
    margin-top: 15px;
    padding: 8px 20px;
    background: rgba(255, 255, 255, 0.25);
    border-radius: 6px;
    display: inline-block;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
    border: 2px solid rgba(255, 255, 255, 0.4);
}

.sidebar-wrapper {
    display: flex;
    min-height: calc(100vh - 200px);
}
.nav-menu {
    width: 280px;
    min-width: 280px;
    background: #80DEEA;
    border-right: 2px solid var(--border-color);
    padding: 20px 0;
    position: sticky;
    top: 0;
    height: calc(100vh - 200px);
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    gap: 4px;
}
.nav-link {
    color: var(--text-color);
    text-decoration: none;
    padding: 12px 20px;
    margin: 0 10px;
    border-radius: 6px;
    transition: all 0.2s ease;
    font-weight: 500;
    display: block;
}
.nav-link:hover, .nav-link.active {
    background: var(--primary-color);
    color: white;
}
.main-content-wrapper {
    flex: 1;
    width: calc(100% - 280px);
    min-width: 0;
}

.section {
    padding: 40px;
    min-height: calc(100vh - 200px);
    border-bottom: 1px solid var(--border-color);
    max-width: 100%;
}
.section h2 {
    font-size: 2.2rem;
    margin-bottom: 20px;
    color: var(--primary-color);
    border-bottom: 3px solid var(--primary-color);
    padding-bottom: 10px;
}
.concept-card {
    background: var(--card-bg);
    padding: 25px;
    border-radius: 12px;
    border: 2px solid var(--border-color);
    margin: 20px 0;
    box-shadow: var(--shadow);
}
.concept-card h3 {
    color: var(--primary-color);
    margin-bottom: 15px;
    font-size: 1.4rem;
}
.mermaid { margin: 30px 0; text-align: center; }
.example-box {
    background: linear-gradient(135deg, #E3F2FD, #BBDEFB);
    border-left: 5px solid var(--primary-color);
    padding: 20px 25px;
    margin: 20px 0;
    border-radius: 8px;
}
.example-box strong {
    color: var(--primary-color);
    display: block;
    margin-bottom: 10px;
    font-size: 1.1rem;
}
footer {
    text-align: center;
    padding: 40px;
    background: #90CAF9;
    border-top: 2px solid var(--border-color);
    color: var(--text-color);
}
@media (max-width: 768px) {
    header h1 { font-size: 2rem; }
    
    .nav-menu {
        width: 100%;
        min-width: 100%;
        height: auto;
        position: relative;
        flex-direction: row;
        flex-wrap: wrap;
        padding: 10px;
        border-right: none;
        border-bottom: 2px solid var(--border-color);
    }
    .nav-link {
        padding: 8px 15px;
        margin: 4px;
    }
    
    .section { padding: 25px 20px; }
}
    .section {
    padding: 40px;
    min-height: calc(100vh - 200px);
    border-bottom: 1px solid var(--border-color);
    max-width: 100%;
}
    </style>
</head>
<body>
    <header>
        <h1>69. Data Locality</h1>
        <p class="subtitle">Keeping Data Close to Compute for Optimal Performance</p>
        <p class="author-credit">Explained by Naman Adep</p>
    </header>

    <div class="sidebar-wrapper">
    <nav class="nav-menu">
        <a href="#overview" class="nav-link active">Overview</a>
        <a href="#strategies" class="nav-link">Placement Strategies</a>
        <a href="#optimization" class="nav-link">Optimization</a>
        <a href="#performance" class="nav-link">Performance Impact</a>
        <a href="#trade-offs" class="nav-link">Trade-offs</a>
    </nav>
    <div class="main-content-wrapper">
        <main>
        <section id="overview" class="section">
            <h2>Data Locality Overview</h2>
            <p>
                Data locality refers to placing data close to compute resources to minimize data movement and maximize 
                performance. In AI workloads, data locality can significantly impact training performance by reducing 
                data loading time and network bandwidth usage. Locality strategies include local storage, node-local 
                caching, and data placement optimization. Understanding data locality helps design storage architectures 
                that minimize data movement and optimize performance for AI workloads.
            </p>

            <div class="mermaid">
                graph TD
                    A[Data Locality] --> B[Local Storage<br/>Best Performance]
                    A --> C[Node-Local Cache<br/>Good Performance]
                    A --> D[Network Storage<br/>Moderate Performance]
                    A --> E[Remote Storage<br/>Lower Performance]
                    
                    style A fill:#1976D2
                    style B fill:#2196F3
                    style C fill:#64B5F6
            </div>

            <div class="example-box">
                <strong>Keeping Data Close:</strong>
                Data locality is like keeping frequently used tools close at hand - the closer the data is to compute, 
                the faster it can be accessed. Local storage is like having tools on your desk (fastest), node-local 
                cache is like having tools in a nearby drawer (fast), network storage is like having tools in a shared 
                toolbox (moderate), and remote storage is like having tools in a distant warehouse (slower).
            </div>

            <div class="mermaid">
                mindmap
                  root((Data Locality))
                    Storage Tiers
                      Local Storage
                        Fastest Access
                      Node-Local Cache
                        Fast Access
                      Network Storage
                        Moderate Access
                      Remote Storage
                        Slower Access
                    Strategy
                      Tiered Approach
                      Pre-Staging
                      Intelligent Caching
                      Data Placement
            </div>
        </section>

        <section id="strategies" class="section">
            <h2>Data Placement Strategies</h2>
            <p>
                Different data placement strategies optimize for different performance and cost trade-offs. Understanding 
                these strategies helps design optimal storage architectures.
            </p>

            <div class="concept-card">
                <h3>Local Storage</h3>
                <ul style="margin-top: 15px; padding-left: 20px; line-height: 2;">
                    <li><strong>Node-Local:</strong> Storage directly attached to compute node</li>
                    <li><strong>Highest Performance:</strong> Highest performance and lowest latency</li>
                    <li><strong>Limited Capacity:</strong> Limited storage capacity</li>
                    <li><strong>Use Case:</strong> Frequently accessed data, checkpoints</li>
                </ul>
            </div>

            <div class="mermaid">
                flowchart TD
                    A[Node-Local Caching] --> B[Cache Layer<br/>Cache Locally]
                    A --> C[Good Performance<br/>For Cached Data]
                    A --> D[Cache Management<br/>Requires Management]
                    A --> E[Use Case<br/>Frequently Accessed]
                    
                    style A fill:#1976D2
                    style B fill:#2196F3
                    style C fill:#42A5F5
                    style D fill:#64B5F6
                    style E fill:#90CAF9
                </div>

            <div class="mermaid">
                flowchart LR
                    A[Network Storage] --> B[Shared Storage<br/>Across Nodes]
                    A --> C[Moderate Performance<br/>Moderate]
                    A --> D[Scalable Capacity<br/>Scalable Storage]
                    A --> E[Use Case<br/>Shared Datasets, Checkpoints]
                    
                    style A fill:#1976D2
                    style B fill:#2196F3
                    style C fill:#42A5F5
                    style D fill:#64B5F6
                    style E fill:#90CAF9
                </div>

            <div class="mermaid">
                flowchart TD
                    A[Data Placement Optimization] --> B[Workload-Aware<br/>Based on Patterns]
                    A --> C[Access Pattern<br/>Optimize Patterns]
                    A --> D[Dynamic Placement<br/>Dynamically Place]
                    A --> E[Performance<br/>Optimize Performance]
                    
                    style A fill:#1976D2
                    style B fill:#2196F3
                    style C fill:#42A5F5
                    style D fill:#64B5F6
                    style E fill:#90CAF9
                </div>
        </section>

        <section id="optimization" class="section">
            <h2>Locality Optimization</h2>
            <p>
                Optimizing data locality involves strategies to place data close to compute and manage data movement 
                efficiently.
            </p>

            <div class="mermaid">
                graph LR
                    A[Training Job] --> B{Data Local?}
                    B -->|Yes| C[Fast Access]
                    B -->|No| D[Copy to Local]
                    D --> E[Cache Locally]
                    E --> C
                    
                    style A fill:#1976D2
                    style C fill:#2196F3
                    style D fill:#64B5F6
            </div>

            <div class="mermaid">
                flowchart TD
                    A[Pre-Staging] --> B[Data Pre-Staging<br/>Copy to Local]
                    A --> C[Reduced Latency<br/>Reduce Loading Latency]
                    A --> D[Planning Required<br/>Planning & Coordination]
                    A --> E[Use Case<br/>Known Datasets]
                    
                    style A fill:#1976D2
                    style B fill:#2196F3
                    style C fill:#42A5F5
                    style D fill:#64B5F6
                    style E fill:#90CAF9
                </div>

            <div class="mermaid">
                flowchart LR
                    A[Intelligent Caching] --> B[Smart Caching<br/>Cache Frequently Accessed]
                    A --> C[Cache Policies<br/>Appropriate Policies]
                    A --> D[Cache Warming<br/>Pre-Warm Cache]
                    A --> E[Use Case<br/>Repeated Patterns]
                    
                    style A fill:#1976D2
                    style B fill:#2196F3
                    style C fill:#42A5F5
                    style D fill:#64B5F6
                    style E fill:#90CAF9
                </div>

            <div class="mermaid">
                flowchart TD
                    A[Data Affinity] --> B[Workload Affinity<br/>Place Near Data]
                    A --> C[Data-Aware Scheduling<br/>Based on Location]
                    A --> D[Reduced Movement<br/>Reduce Movement]
                    A --> E[Use Case<br/>Large Datasets, Multi-Tenant]
                    
                    style A fill:#1976D2
                    style B fill:#2196F3
                    style C fill:#42A5F5
                    style D fill:#64B5F6
                    style E fill:#90CAF9
                </div>
        </section>

        <section id="performance" class="section">
            <h2>Performance Impact</h2>
            <p>
                Data locality significantly impacts AI workload performance. Better locality reduces data loading time 
                and improves GPU utilization.
            </p>

            <div class="mermaid">
                flowchart LR
                    A[Latency Impact] --> B[Local Storage<br/>Microsecond]
                    A --> C[Network Storage<br/>Millisecond]
                    A --> D[Remote Storage<br/>Higher Latency]
                    A --> E[Impact<br/>Lower Latency Better]
                    
                    style A fill:#1976D2
                    style B fill:#2196F3
                    style C fill:#42A5F5
                    style D fill:#FF6B6B
                    style E fill:#64B5F6
                </div>

            <div class="concept-card">
                <h3>Throughput Impact</h3>
                <ul style="margin-top: 15px; padding-left: 20px; line-height: 2;">
                    <li><strong>Local Storage:</strong> Maximum throughput (limited by storage)</li>
                    <li><strong>Network Storage:</strong> Limited by network bandwidth</li>
                    <li><strong>Remote Storage:</strong> Limited by network and storage</li>
                    <li><strong>Impact:</strong> Higher throughput improves performance</li>
                </ul>
            </div>

            <div class="concept-card">
                <h3>GPU Utilization</h3>
                <ul style="margin-top: 15px; padding-left: 20px; line-height: 2;">
                    <li><strong>Better Locality:</strong> Higher GPU utilization</li>
                    <li><strong>Reduced Wait Time:</strong> Less time waiting for data</li>
                    <li><strong>Training Speed:</strong> Faster training</li>
                    <li><strong>Cost Efficiency:</strong> Better resource utilization</li>
                </ul>
            </div>
        </section>

        <section id="trade-offs" class="section">
            <h2>Trade-offs</h2>
            <p>
                Data locality involves trade-offs between performance, capacity, cost, and complexity. Understanding 
                these trade-offs helps make informed decisions.
            </p>

            <div class="concept-card">
                <h3>Performance vs Capacity</h3>
                <ul style="margin-top: 15px; padding-left: 20px; line-height: 2;">
                    <li><strong>Local Storage:</strong> High performance, limited capacity</li>
                    <li><strong>Network Storage:</strong> Moderate performance, scalable capacity</li>
                    <li><strong>Trade-off:</strong> Balance performance and capacity needs</li>
                    <li><strong>Solution:</strong> Hybrid approach combining both</li>
                </ul>
            </div>

            <div class="concept-card">
                <h3>Performance vs Cost</h3>
                <ul style="margin-top: 15px; padding-left: 20px; line-height: 2;">
                    <li><strong>Local Storage:</strong> Higher cost per GB</li>
                    <li><strong>Network Storage:</strong> Lower cost per GB</li>
                    <li><strong>Trade-off:</strong> Balance performance and cost</li>
                    <li><strong>Solution:</strong> Use local for hot data, network for cold data</li>
                </ul>
            </div>

            <div class="concept-card">
                <h3>Simplicity vs Optimization</h3>
                <ul style="margin-top: 15px; padding-left: 20px; line-height: 2;">
                    <li><strong>Simple Approach:</strong> Use network storage for all data</li>
                    <li><strong>Optimized Approach:</strong> Optimize data placement</li>
                    <li><strong>Trade-off:</strong> Balance simplicity and optimization</li>
                    <li><strong>Solution:</strong> Automate optimization where possible</li>
                </ul>
            </div>

            <div class="example-box">
                <strong>Locality Strategy:</strong>
                Implement a tiered locality strategy: use local storage for frequently accessed data and checkpoints, 
                use node-local caching for datasets accessed multiple times, and use network storage for shared datasets. 
                Pre-stage data to local storage when possible, use intelligent caching for repeated access patterns, 
                and optimize data placement based on workload characteristics. Balance performance, capacity, and cost 
                based on workload requirements.
            </div>
        </section>
            </main>

            </div>
</div>

    <footer>
        <p>Data Locality Guide | Keeping Data Close to Compute</p>
    </footer>

    <script>
        mermaid.initialize({ startOnLoad: true, theme: 'default' });
        
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                const targetSection = document.querySelector(targetId);
                if (targetSection) {
                    targetSection.scrollIntoView({ behavior: 'smooth' }
);
                    document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
                    this.classList.add('active');
                }

            });
        });

        const sections = document.querySelectorAll('.section');
        const navLinks = document.querySelectorAll('.nav-link');
        
        window.addEventListener('scroll', () => {
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                if (pageYOffset >= sectionTop - 200) {
                    current = section.getAttribute('id');
                }

            });
            
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === `#${current}`) {
                    link.classList.add('active');
                }
            });
        });
    </script>
</body>
</html>
