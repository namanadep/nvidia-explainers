<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>112. BCM Advanced Configuration: Advanced Base Command Manager Settings</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <style>
* { margin: 0; padding: 0; box-sizing: border-box; }
:root {
    --primary-color: #AD1457;
    --secondary-color: #C2185B;
    --accent-color: #E91E63;
    --bg-color: #FCE4EC;
    --card-bg: #FFFFFF;
    --text-color: #1A1A1A;
    --border-color: #F8BBD0;
    --shadow: 0 2px 8px rgba(173, 20, 87, 0.1);
}
body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
    background: var(--bg-color);
    color: var(--text-color);
    line-height: 1.6;
}
header {
    text-align: center;
    padding: 50px 40px;
    background: linear-gradient(135deg, #AD1457, #C2185B);
    color: white;
    position: relative;
}
header h1 {
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 12px;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
}
.subtitle {
    font-size: 1.2rem;
    opacity: 0.95;
    font-weight: 300;
}
.author-credit {
    font-size: 1rem;
    font-weight: 600;
    margin-top: 15px;
    padding: 8px 20px;
    background: rgba(255, 255, 255, 0.25);
    border-radius: 6px;
    display: inline-block;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
    border: 2px solid rgba(255, 255, 255, 0.4);
}

.sidebar-wrapper {
    display: flex;
    min-height: calc(100vh - 200px);
}
.nav-menu {
    width: 280px;
    min-width: 280px;
    background: #80DEEA;
    border-right: 2px solid var(--border-color);
    padding: 20px 0;
    position: sticky;
    top: 0;
    height: calc(100vh - 200px);
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    gap: 4px;
}
.nav-link {
    color: var(--text-color);
    text-decoration: none;
    padding: 12px 20px;
    margin: 0 10px;
    border-radius: 6px;
    transition: all 0.2s ease;
    font-weight: 500;
    display: block;
}
.nav-link:hover, .nav-link.active {
    background: var(--primary-color);
    color: white;
}
.main-content-wrapper {
    flex: 1;
    width: calc(100% - 280px);
    min-width: 0;
}

.section {
    padding: 40px;
    min-height: calc(100vh - 200px);
    border-bottom: 1px solid var(--border-color);
    max-width: 100%;
}
.section h2 {
    font-size: 2.2rem;
    margin-bottom: 20px;
    color: var(--primary-color);
    border-bottom: 3px solid var(--primary-color);
    padding-bottom: 10px;
}
.section h3 {
    font-size: 1.6rem;
    margin: 25px 0 15px;
    color: var(--secondary-color);
}
.section p {
    margin-bottom: 18px;
    font-size: 1.05rem;
    line-height: 1.8;
}
.config-card {
    background: var(--card-bg);
    padding: 25px;
    border-radius: 12px;
    border-left: 5px solid var(--primary-color);
    margin: 20px 0;
    box-shadow: var(--shadow);
}
.config-card h3 {
    color: var(--primary-color);
    margin-bottom: 15px;
    font-size: 1.4rem;
}
.concept-card {
    background: var(--card-bg);
    padding: 25px;
    border-radius: 12px;
    border: 2px solid var(--border-color);
    margin: 20px 0;
    box-shadow: var(--shadow);
}
.concept-card h3 {
    color: var(--primary-color);
    margin-bottom: 15px;
    font-size: 1.4rem;
}
.mermaid { margin: 30px 0; text-align: center; }
.example-box {
    background: linear-gradient(135deg, #FCE4EC, #F8BBD0);
    border-left: 5px solid var(--primary-color);
    padding: 20px 25px;
    margin: 20px 0;
    border-radius: 8px;
}
.example-box strong {
    color: var(--primary-color);
    display: block;
    margin-bottom: 10px;
    font-size: 1.1rem;
}
code {
    background: #F5F5F5;
    padding: 2px 8px;
    border-radius: 4px;
    font-family: 'Courier New', monospace;
    color: #D32F2F;
}
.command-box {
    background: #263238;
    color: #E91E63;
    padding: 20px;
    border-radius: 8px;
    margin: 15px 0;
    font-family: 'Courier New', monospace;
    overflow-x: auto;
}
footer {
    text-align: center;
    padding: 40px;
    background: #F8BBD0;
    border-top: 2px solid var(--border-color);
    color: var(--text-color);
}
@media (max-width: 768px) {
    header h1 { font-size: 2rem; }
    
    .nav-menu {
        width: 100%;
        min-width: 100%;
        height: auto;
        position: relative;
        flex-direction: row;
        flex-wrap: wrap;
        padding: 10px;
        border-right: none;
        border-bottom: 2px solid var(--border-color);
    }
    .nav-link {
        padding: 8px 15px;
        margin: 4px;
    }
    
    .section { padding: 25px 20px; }
}
    .section {
    padding: 40px;
    min-height: calc(100vh - 200px);
    border-bottom: 1px solid var(--border-color);
    max-width: 100%;
}
    </style>
</head>
<body>
    <header>
        <h1>112. BCM Advanced Configuration</h1>
        <p class="subtitle">Advanced Base Command Manager Settings and Customization</p>
        <p class="author-credit">Explained by Naman Adep</p>
    </header>

    <div class="sidebar-wrapper">
    <nav class="nav-menu">
        <a href="#overview" class="nav-link active">Overview</a>
        <a href="#configuration" class="nav-link">Configuration Files</a>
        <a href="#customization" class="nav-link">Customization</a>
        <a href="#api" class="nav-link">API Configuration</a>
        <a href="#integration" class="nav-link">External Integration</a>
        <a href="#optimization" class="nav-link">Performance Optimization</a>
        <a href="#best-practices" class="nav-link">Best Practices</a>
    </nav>
    <div class="main-content-wrapper">
        <main>
        <section id="overview" class="section">
            <h2>BCM Advanced Configuration Overview</h2>
            <p>
                Advanced BCM configuration enables customization beyond basic cluster management. Advanced settings 
                include API configuration, external system integration, performance tuning, and custom workflows. 
                Understanding advanced configuration enables optimization of cluster operations, integration with 
                external tools, and automation of complex workflows. Proper advanced configuration improves cluster 
                efficiency and operational capabilities.
            </p>

            <div class="mermaid">
                graph TD
                    A[BCM Advanced Config] --> B[Configuration Files]
                    A --> C[API Configuration]
                    A --> D[External Integration]
                    A --> E[Performance Tuning]
                    B --> F[bcm.conf]
                    B --> G[Database Config]
                    C --> H[REST API]
                    C --> I[Authentication]
                    D --> J[LDAP/AD]
                    D --> K[Monitoring Tools]
                    E --> L[Resource Limits]
                    E --> M[Timeout Settings]
                    
                    style A fill:#AD1457
                    style B fill:#C2185B
                    style C fill:#E91E63
            </div>

            <div class="example-box">
                <strong>Advanced Configuration Impact:</strong>
                Advanced BCM configuration enables integration with enterprise systems, automation of complex workflows, 
                and optimization of cluster operations. Proper configuration improves operational efficiency, enables 
                custom solutions, and extends BCM capabilities beyond standard features.
            </div>

            <div class="mermaid">
                mindmap
                  root((BCM Advanced Configuration))
                    Configuration Files
                      bcm.conf
                      Database Configuration
                      Service Configuration
                    API Configuration
                      REST API Setup
                      Authentication
                      API Keys
                    External Integration
                      LDAP/Active Directory
                      Monitoring Systems
                      CI/CD Integration
                    Performance Optimization
                      Resource Limits
                      Timeout Settings
                      Connection Pooling
                    Customization
                      Custom Scripts
                      Workflow Automation
                      Event Handlers
            </div>
        </section>

        <section id="configuration" class="section">
            <h2>BCM Configuration Files</h2>
            <p>
                BCM configuration is stored in various configuration files. Understanding these files enables advanced 
                customization and troubleshooting.
            </p>

            <div class="mermaid">
                flowchart TD
                    A[BCM Advanced Configuration] --> B[Configuration Files]
                    A --> C[API Configuration]
                    A --> D[External Integration]
                    A --> E[Performance Tuning]
                    B --> F[bcm.conf]
                    B --> G[Database Config]
                    C --> H[REST API]
                    C --> I[Authentication]
                    D --> J[LDAP/AD]
                    D --> K[Monitoring Tools]
                    E --> L[Resource Limits]
                    E --> M[Timeout Settings]
                    F --> N[Apply Configuration]
                    G --> N
                    H --> N
                    I --> N
                    J --> N
                    K --> N
                    L --> N
                    M --> N
                    N --> O[Restart Services]
                    O --> P[Verify Configuration]
                    P --> Q{Configuration OK?}
                    Q -->|No| B
                    Q -->|Yes| R[Configuration Complete]
                    
                    style A fill:#AD1457
                    style R fill:#4CAF50
                    style Q fill:#FF9800
            </div>

            <div class="config-card">
                <h3>BCM Main Configuration File</h3>
                <p>Primary BCM configuration file location:</p>
                
                <p style="margin-top: 20px;"><strong>Configuration File Location:</strong></p>
                <div class="command-box">
# BCM main configuration file
/etc/bcm/bcm.conf
# or
/opt/nvidia/bcm/etc/bcm.conf
                </div>

                <p style="margin-top: 20px;"><strong>Key Configuration Sections:</strong></p>
                <div class="command-box">
# Database configuration
[database]
host = localhost
port = 5432
name = bcmdb
user = bcm
password = [encrypted_password]

# Service configuration
[service]
port = 8080
log_level = INFO
max_workers = 10

# Image storage configuration
[images]
storage_path = /var/lib/bcm/images
max_image_size = 100GB
                </div>
            </div>

            <div class="config-card">
                <h3>Database Configuration</h3>
                <p>Configure BCM database settings:</p>
                
                <p style="margin-top: 20px;"><strong>PostgreSQL Configuration:</strong></p>
                <div class="command-box">
# PostgreSQL connection settings in bcm.conf
[database]
type = postgresql
host = localhost
port = 5432
database = bcmdb
user = bcm
password = [password]
pool_size = 20
max_overflow = 10
                </div>

                <p style="margin-top: 20px;"><strong>Database Connection Pooling:</strong></p>
                <div class="command-box">
# Optimize connection pool for high concurrency
[database]
pool_size = 50
max_overflow = 20
pool_timeout = 30
pool_recycle = 3600
                </div>
            </div>

            <div class="config-card">
                <h3>Service Configuration</h3>
                <p>Configure BCM service parameters:</p>
                
                <p style="margin-top: 20px;"><strong>Service Ports and Workers:</strong></p>
                <div class="command-box">
# BCM service configuration
[service]
api_port = 8080
web_port = 8443
max_workers = 20
worker_timeout = 300
                </div>

                <p style="margin-top: 20px;"><strong>Logging Configuration:</strong></p>
                <div class="command-box">
# Logging settings
[logging]
level = INFO
file = /var/log/bcm/bcm.log
max_size = 100MB
backup_count = 10
                </div>
            </div>
        </section>

        <section id="customization" class="section">
            <h2>BCM Customization</h2>
            <p>
                BCM supports customization through scripts, event handlers, and custom workflows. These enable 
                automation and integration with external systems.
            </p>

            <div class="concept-card">
                <h3>Custom Scripts</h3>
                <p>Create custom scripts for BCM operations:</p>
                
                <p style="margin-top: 20px;"><strong>Pre-Provisioning Script:</strong></p>
                <div class="command-box">
#!/bin/bash
# Custom pre-provisioning script
# This script runs before node provisioning

# Example: Set custom kernel parameters
echo "net.core.rmem_max = 134217728" >> /etc/sysctl.conf
echo "net.core.wmem_max = 134217728" >> /etc/sysctl.conf

# Example: Configure custom network settings
# (script continues...)
                </div>

                <p style="margin-top: 20px;"><strong>Post-Provisioning Script:</strong></p>
                <div class="command-box">
#!/bin/bash
# Custom post-provisioning script
# This script runs after node provisioning

# Example: Install additional software
apt-get update
apt-get install -y [custom_packages]

# Example: Configure custom services
systemctl enable [custom_service]
systemctl start [custom_service]
                </div>
            </div>

            <div class="concept-card">
                <h3>Event Handlers</h3>
                <p>Configure event handlers for BCM events:</p>
                
                <p style="margin-top: 20px;"><strong>Event Handler Configuration:</strong></p>
                <div class="command-box">
# Configure event handlers in bcm.conf
[events]
node_discovered = /usr/local/bin/on_node_discovered.sh
node_provisioned = /usr/local/bin/on_node_provisioned.sh
node_failed = /usr/local/bin/on_node_failed.sh
image_created = /usr/local/bin/on_image_created.sh
                </div>

                <p style="margin-top: 20px;"><strong>Example Event Handler Script:</strong></p>
                <div class="command-box">
#!/bin/bash
# Event handler: Node provisioned
# Receives node name as first argument

NODE_NAME=$1
TIMESTAMP=$(date +%Y-%m-%d\ %H:%M:%S)

# Log event
echo "[$TIMESTAMP] Node $NODE_NAME provisioned" >> /var/log/bcm/events.log

# Send notification (example)
# send_notification "Node $NODE_NAME provisioned successfully"
                </div>
            </div>
        </section>

        <section id="api" class="section">
            <h2>BCM API Configuration</h2>
            <p>
                BCM provides REST API for programmatic cluster management. Configure API access, authentication, 
                and security settings.
            </p>

            <div class="config-card">
                <h3>REST API Configuration</h3>
                <p>Configure BCM REST API:</p>
                
                <p style="margin-top: 20px;"><strong>API Server Configuration:</strong></p>
                <div class="command-box">
# API configuration in bcm.conf
[api]
enabled = true
host = 0.0.0.0
port = 8080
ssl_enabled = true
ssl_cert = /etc/bcm/ssl/cert.pem
ssl_key = /etc/bcm/ssl/key.pem
                </div>

                <p style="margin-top: 20px;"><strong>API Authentication:</strong></p>
                <div class="command-box">
# API authentication settings
[api_auth]
method = token
token_expiry = 3600
require_https = true

# API rate limiting
[api_limits]
requests_per_minute = 100
burst_size = 20
                </div>
            </div>

            <div class="config-card">
                <h3>API Key Management</h3>
                <p>Create and manage API keys:</p>
                
                <p style="margin-top: 20px;"><strong>Generate API Key:</strong></p>
                <div class="command-box">
# Generate API key via CMSH
cmsh -c "apikey create my-api-key"

# List API keys
cmsh -c "apikey show"

# Revoke API key
cmsh -c "apikey revoke [key_id]"
                </div>

                <p style="margin-top: 20px;"><strong>Use API Key:</strong></p>
                <div class="command-box">
# Use API key in API requests
curl -H "Authorization: Bearer [api_key]" \
     https://bcm-server:8080/api/v1/devices

# Example API request
curl -X GET \
     -H "Authorization: Bearer [api_key]" \
     -H "Content-Type: application/json" \
     https://bcm-server:8080/api/v1/devices
                </div>
            </div>
        </section>

        <section id="integration" class="section">
            <h2>External System Integration</h2>
            <p>
                BCM can integrate with external systems including LDAP/Active Directory, monitoring systems, and 
                CI/CD pipelines. Configure these integrations for enterprise deployments.
            </p>

            <div class="concept-card">
                <h3>LDAP/Active Directory Integration</h3>
                <p>Configure LDAP/AD authentication:</p>
                
                <p style="margin-top: 20px;"><strong>LDAP Configuration:</strong></p>
                <div class="command-box">
# LDAP configuration in bcm.conf
[ldap]
enabled = true
server = ldap://ldap.example.com
port = 389
base_dn = dc=example,dc=com
bind_dn = cn=admin,dc=example,dc=com
bind_password = [password]
user_search_base = ou=users,dc=example,dc=com
group_search_base = ou=groups,dc=example,dc=com
                </div>

                <p style="margin-top: 20px;"><strong>Active Directory Configuration:</strong></p>
                <div class="command-box">
# Active Directory configuration
[ldap]
enabled = true
server = ldap://ad.example.com
port = 389
base_dn = dc=example,dc=com
bind_dn = CN=ServiceAccount,CN=Users,DC=example,DC=com
bind_password = [password]
user_search_base = CN=Users,DC=example,DC=com
group_search_base = CN=Groups,DC=example,DC=com
                </div>
            </div>

            <div class="concept-card">
                <h3>Monitoring System Integration</h3>
                <p>Integrate BCM with monitoring systems:</p>
                
                <p style="margin-top: 20px;"><strong>Prometheus Integration:</strong></p>
                <div class="command-box">
# Enable Prometheus metrics endpoint
[metrics]
enabled = true
prometheus_enabled = true
prometheus_port = 9090
metrics_path = /metrics
                </div>

                <p style="margin-top: 20px;"><strong>SNMP Integration:</strong></p>
                <div class="command-box">
# SNMP configuration for monitoring
[snmp]
enabled = true
community = public
trap_receiver = monitoring.example.com
trap_port = 162
                </div>
            </div>
        </section>

        <section id="optimization" class="section">
            <h2>Performance Optimization</h2>
            <p>
                Optimize BCM performance through resource limits, timeout settings, and connection pooling. Proper 
                optimization improves cluster management efficiency.
            </p>

            <div class="config-card">
                <h3>Resource Limits</h3>
                <p>Configure resource limits for BCM operations:</p>
                
                <p style="margin-top: 20px;"><strong>Operation Timeouts:</strong></p>
                <div class="command-box">
# Configure operation timeouts
[operations]
provisioning_timeout = 3600
image_creation_timeout = 7200
node_discovery_timeout = 300
default_operation_timeout = 1800
                </div>

                <p style="margin-top: 20px;"><strong>Concurrent Operations:</strong></p>
                <div class="command-box">
# Limit concurrent operations
[operations]
max_concurrent_provisioning = 10
max_concurrent_image_operations = 5
max_concurrent_discoveries = 20
                </div>
            </div>

            <div class="config-card">
                <h3>Connection Pooling</h3>
                <p>Optimize database and network connections:</p>
                
                <p style="margin-top: 20px;"><strong>Database Connection Pool:</strong></p>
                <div class="command-box">
# Optimize database connection pool
[database]
pool_size = 50
max_overflow = 20
pool_timeout = 30
pool_recycle = 3600
echo_false = true
                </div>

                <p style="margin-top: 20px;"><strong>Network Connection Settings:</strong></p>
                <div class="command-box">
# Network connection settings
[network]
connection_timeout = 30
read_timeout = 60
max_connections = 100
keepalive = true
                </div>
            </div>
        </section>

        <section id="best-practices" class="section">
            <h2>Advanced Configuration Best Practices</h2>
            <p>
                Follow best practices for advanced BCM configuration to ensure reliability, security, and optimal 
                performance.
            </p>

            <div class="concept-card">
                <h3>Configuration Management</h3>
                <ul style="margin-top: 15px; padding-left: 20px; line-height: 2;">
                    <li>Backup configuration files before making changes</li>
                    <li>Use version control for configuration files</li>
                    <li>Document all custom configurations</li>
                    <li>Test configurations in non-production environment</li>
                    <li>Use configuration templates for consistency</li>
                </ul>
            </div>

            <div class="concept-card">
                <h3>Security Best Practices</h3>
                <ul style="margin-top: 15px; padding-left: 20px; line-height: 2;">
                    <li>Enable SSL/TLS for API access</li>
                    <li>Use strong authentication (LDAP/AD, API keys)</li>
                    <li>Restrict API access to authorized systems</li>
                    <li>Encrypt sensitive configuration values</li>
                    <li>Regularly rotate API keys and passwords</li>
                </ul>
            </div>

            <div class="concept-card">
                <h3>Performance Best Practices</h3>
                <ul style="margin-top: 15px; padding-left: 20px; line-height: 2;">
                    <li>Optimize database connection pool size</li>
                    <li>Set appropriate operation timeouts</li>
                    <li>Limit concurrent operations</li>
                    <li>Monitor BCM performance metrics</li>
                    <li>Tune based on cluster size and workload</li>
                </ul>
            </div>

            <div class="example-box">
                <strong>Advanced Configuration Checklist:</strong>
                1. Backup existing configuration<br>
                2. Review configuration requirements<br>
                3. Configure database settings<br>
                4. Set up API access and authentication<br>
                5. Configure external integrations<br>
                6. Optimize performance settings<br>
                7. Test configuration changes<br>
                8. Document all customizations<br>
                9. Monitor configuration impact<br>
                10. Maintain configuration documentation
            </div>
        </section>
            </main>

            </div>
</div>

    <footer>
        <p>BCM Advanced Configuration | Advanced Settings and Customization</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <script>
        mermaid.initialize({ startOnLoad: true, theme: 'default' });
        
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                const targetSection = document.querySelector(targetId);
                
                document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
                this.classList.add('active');
                
                targetSection.scrollIntoView({ behavior: 'smooth', block: 'start' }
);
            });
        });

        window.addEventListener('scroll', () => {
            const sections = document.querySelectorAll('.section');
            const navLinks = document.querySelectorAll('.nav-link');
            
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.clientHeight;
                if (window.pageYOffset >= sectionTop - 100) {
                    current = section.getAttribute('id');
                }

            });

            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === `#${current}`) {
                    link.classList.add('active');
                }
            });
        });
    </script>
</body>
</html>
